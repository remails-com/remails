images:
  mta:
    repository: ghcr.io/tweedegolf/remails/mta
    pullPolicy: Always
  management:
    repository: ghcr.io/tweedegolf/remails/management
    pullPolicy: Always
  retry:
    repository: ghcr.io/tweedegolf/remails/retry
    pullPolicy: Always
  migrate_db:
    repository: ghcr.io/tweedegolf/remails/migrate_db
    pullPolicy: Always
  backup_db:
    repository: ghcr.io/tweedegolf/remails/backup_db
    pullPolicy: Always

environment: development

database_url: ""
# Only use this value for development, use a secret for production
session_key: "0HwY07uU2ffGHX2lNZSEQ7NUbIbmXVQ0v0VnJARMCMiuotvcS5/zbpb8QN+BCMA2PudLOBeu9RIF1rAhIGb8cQ=="

rust_log: "remails=debug,tower_http=debug,axum=debug,info"

smtp:
  replicas: 3
  server_name: "smtp.remails.net"
  ehlo_domain: "sending.remails.net"
  rate_limit_max_messages: "120"
  rate_limit_minutes: "1"
  preferred_spf_record: "v=spf1 include:spf.remails.net -all"
  ports:
    - 465
    - 2525
  # Possible values "staging" and "production".
  # Influences which type of Let's Encrypt certificate should be used
  certificate_type: "production"

  # TODO make this configurable via Github
  scw_loadbalancers: # TODO https://www.scaleway.com/en/docs/kubernetes/reference-content/multi-az-clusters/#dns-with-dynamic-record-health-check
    - zone: "nl-ams-1"
      # 51.15.47.245 and 2001:bc8:1640:f::
      ip_ids: "6fd80879-44b6-435f-852c-08701718f6af,9b9a9cf2-0b42-4301-a803-6f2f753cb166"
    - zone: "nl-ams-2"
      # 51.158.232.12, 2001:bc8:5090:15::
      ip_ids: "082e587f-5929-4070-9cf6-8d28977e3427,98df875e-8f8b-4454-9021-736e665f2a8a"
  scw_loadbalancer_type: "lb-s" # available are "lb-s", "lb-gp-m", "lb-pg-l", and "lb-gp-xl"


management:
  replicas: 3
  server_name: "remails.net"
  certificate_type: "production"

moneybird:
  api_key: "nothing-to-see-here"
  administration: "457129080952718731"
  webhook_url: https://dump.tweede.golf/dump/moneybird

retry:
  schedule: "*/10 * * * *"

github_oauth:
  client_id: Ov23livRESUJK4twobxj
  client_secret: Secret

backup:
  enabled: true
  s3_url: "https://s3.fr-par.scw.cloud/remails-backup"
  restic_password: "something secret"
  scw_secret_key: "something secret"
  scw_access_key: "something secret"
  schedule: "0 01 * * *"

imagePullSecrets:
  - name: "regcred"
